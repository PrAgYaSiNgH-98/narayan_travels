    <!--This is signup page -->

<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Home</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
<link rel="stylesheet" th:href="@{/css/style.css}">
</head>
<body>
	<div th:replace="~{fragment::navbar}"></div>

    <section>
    <div class="container">
    <div class= "col-md-8 offset-md-2">
    <div class="my-card mt-5 rounded">
    <h1 class="text-center">Register here!!</h1>
     <div th:if="${error}" style="color: red;">
        <p th:text="${error}"></p>
    </div>
    <form class="g-3" action="" th.action="@{/signup}" method="post" th:object="${user}">
    
    <div class="form-group p-2">
        <label for="username">Username:</label>
        <br>
        <input type="text" class="form-control" aria-describedby="emailHelp" id="username" placeholder="Enter user name" name="name" required th:value="${user.name}"/>
          
          </div>
          
          <div class="form-group p-2">
        <label for="username">Email:</label>
        <br>
        <input type="text" class="form-control" aria-describedby="emailHelp" id="email" placeholder="Enter Email" name="email" required th:value="${user.email}"/>
          </div>
          
           <div class="form-group p-2">
        <label for="username">Role:</label>
        <br>
              <input type="text" class="form-control"  id="admin" name="admin" placeholder="Admin" disabled />
                  <input type="hidden" id="hiddenAdmin" name="admin" />
              
          </div>
          
       <div class="form-group p-2">
        <label for="password">Password:</label>
        <br>
        <input type="password"class="form-control" id="password" name="password" required/>
        </div>
		<div>
		       <input type="hidden" name="_csrf" th:value="${_csrf.token}" />
		   </div>
        
        <div class="container text-center p-2">
        <button type="submit" onclick="prepareDisabledFields()" class="btn bg-primary btn-lg text-white">SignUp</button>
        </div>
        </div>
    </form>
    
    </div>
    </div>
    </section>
   <script>
        // Copy values from disabled fields to hidden fields before form submission
        function prepareDisabledFields() {
            document.getElementById("hiddenAdmin").value = document.getElementById("admin").value;
            }
    </script>
	<div th:replace="~{footer :: footer}"></div>
    
</body>

</html>

